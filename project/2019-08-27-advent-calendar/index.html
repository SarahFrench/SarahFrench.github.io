<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><style>@import 'https://fonts.googleapis.com/css2?family=VT323&display=swap'</style><link rel=stylesheet href=https://sarahfrench.dev/sass/main.css><base href=https://sarahfrench.dev/><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#menu"),t=new IntersectionObserver((e)=>{console.log("callback fired");const n=e[0];n.target.classList.toggle("nav--pinned",n.intersectionRatio<1)},{threshold:[1]});t.observe(e)})</script><title>Advent Calendar 2019 | Sarah French</title></head><body><nav id=menu class=nav><a class=nav-link href=/ title>Home
</a><a class=nav-link href=/blog title>Blog
</a><a class=nav-link href=/memo title>Memos
</a><a class=nav-link href=/project title>Projects</a></nav><svg class="hero hero--subpage" width="100%" height="100%" viewBox="0 0 800 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5"><g transform="matrix(1,0,0,1,1,-196.312)"><g transform="matrix(1,0,0,0.506741,0,197.407)"><rect x="-.829" y="-2.161" width="801.197" height="402.37" style="fill:#12022d"/></g><g id="veticals"><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M393.82 194.416 393.843 399.466" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M416.82 194.418c17.341 68.353 52.023 205.057 52.023 205.057" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M439.82 194.421 546.843 399.484" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M462.82 194.424 623.844 399.493" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M485.82 194.426 699.727 400.248" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M507.82 194.429 773.844 399.51" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M532.82 194.432 793.839 362.588" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M550.82 194.434 793.835 326.59" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M573.82 194.436 793.832 300.223" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M597.82 194.439l196.01 83.156" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M618.82 194.442l175.008 65.906" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M640.82 194.444l153.006 51.093" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M661.82 194.447l132.005 39.408" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M681.82 194.449l112.004 30.77" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M703.82 194.451 793.823 217.017" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M722.82 194.454l71.002 15.393" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M740.821 194.456 793.821 202.96" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M757.821 194.458 793.821 197.538" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(0.999999,-0.000112464,-0.00011259,0.97537,6.20178,10.4171)"><path d="M773.821 194.46 793.821 194.462" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M416.82 194.418c17.341 68.353 52.023 205.057 52.023 205.057" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M439.82 194.421 546.843 399.484" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M462.82 194.424 623.844 399.493" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M485.82 194.426 699.727 400.248" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M507.82 194.429 773.844 399.51" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M532.82 194.432 793.839 362.588" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M550.82 194.434 793.835 326.59" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M573.82 194.436 793.832 300.223" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M597.82 194.439l196.01 83.156" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M618.82 194.442l175.008 65.906" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M640.82 194.444l153.006 51.093" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M661.82 194.447l132.005 39.408" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M681.82 194.449l112.004 30.77" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M703.82 194.451 793.823 217.017" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M722.82 194.454l71.002 15.393" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M740.821 194.456 793.821 202.96" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M757.821 194.458 793.821 197.538" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g><g transform="matrix(-0.999999,-0.000112464,0.00011259,0.97537,793.798,10.4171)"><path d="M773.821 194.46 793.821 194.462" style="fill:none;stroke:#ff00a6;stroke-width:2.03px"/></g></g><g id="horizontals"><path d="M0 365 8e2 365.024" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M0 328H8e2" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M8e2 302H0" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M0 280H8e2" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M8e2 263.6.0 263.843" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M0 249.563 8e2 249.576" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M0 237.737 8e2 237.846" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M0 230H8e2" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M-.092 222H8e2" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M0 215 8e2 214.978" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M.149 209H8e2" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><path d="M0 203H8e2" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/><g transform="matrix(1,0,0,1,0,-1)"><path d="M0 2e2H8e2.0z" style="fill:none;stroke:#8a8ac9;stroke-width:1px"/></g></g></g></svg><div class="main-wrapper main-wrapper--subpage"><main class=main-content><article class=project-page><div class="tag-list__list styled-font"><a class=tag-list__item href=/tags/javascript>JavaScript
</a><a class=tag-list__item href=/tags/ruby-on-rails>Ruby on Rails
</a><a class=tag-list__item href=/tags/frontend>Frontend
</a><a class=tag-list__item href=/tags/svg>SVG
</a><a class=tag-list__item href=/tags/cringe>Cringe</a></div><header><h1 class="styled-font page-title">Advent Calendar 2019</h1><img class=project__hero-image src=https://sarahfrench.dev/image/advent-calendar.png></header><h2 id=what-on-earth>What on Earth&mldr;</h2><p>This, my friends, was the first &lsquo;big&rsquo; project I started and completed as a junior developer. It&rsquo;s a advent calendar for 2019 which allowed the user (my boyfriend) to open up a new page each day between December 1st-25th, and each day is a little nugget of madness.</p><p>By having 25 advent pages to fill, this project gave me the opportunity to try a ton of new things and helped me learn SO MUCH about frontend development and browser APIs. I also did some classic junior developer things like writing god foresaken, under-documented code that is not pretty to look back on years later. But, having said that, I&rsquo;ve got so much affection for this website. It&rsquo;s a little relic of my time as a junior dev and the first Christmas between me and my soon-to-be husband.</p><h2 id=how-does-it-work>How does it work?</h2><p>The user visits the homepage and is shown 25 tiles covering the screen (see image above). As the equivalent day passed in Dec 2019 the tiles became clickable and the linked pages were nolonger blocked by a redirect.</p><p>As tiles disappear they reveal an image in the background. What tiles have been clicked is stored in the browser&rsquo;s local storage, so a user returns to the website to find all windows to the background image are still open.</p><p>Each page has a self-contained joke/activity/<em>thing</em> to see each day, and you can view past days&rsquo; pages by opening the menu in the top left.</p><h2 id=the-stack>The stack</h2><p>This project was made with Ruby on Rails as the backend and plain HTML and vanilla JavaScript for the frontend. This stack was used because A) my job then was at a place using Ruby on Rails and I needed more practice, and B) I didn&rsquo;t know any frontend frameworks and was learning plain old HTML and JavaScript as part of my apprenticeship.</p><p>The project is deployed using Heroku, and I learned how to deploy it while attending a Ruby meetup in London. Those were the days :)</p><h2 id=my-takeaways>My takeaways</h2><ul><li>Vanilla JavaScript needs to be planned out well when making things like games, vs just opening a menu!</li><li>CSS can get sprawling and gross quickly without a system</li><li>Free services like Heroku and Cloudinary are awesome</li><li>Apple really doesn&rsquo;t like audio playing automatically in their browser</li><li>Test stuff in different browsers even if you have an audience of 1-2!</li><li>Again, plan things out before writing code and make cleaner commits!</li></ul><h2 id=highlights>Highlights</h2><h3 id=truely-unhinged-stuff-i-did-with-audio>Truely unhinged stuff I did with audio</h3><h4 id=1--farting-click-game>#1 : Farting Click Game</h4><p><a href=https://hugo-advent-calendar.herokuapp.com/days/7 rel="noopener noreferrer nofollow" target=_blank>Day 7 is a farting click game, so yeah&mldr;</a></p><h4 id=2--surprise>#2 : Surprise&mldr;</h4><img src=https://res.cloudinary.com/dl1rwtqzi/image/upload/v1656876580/advent-calendar-day-22.png><p>Day 22 I&rsquo;ll leave as a surprise, <a href=https://hugo-advent-calendar.herokuapp.com/days/22 rel="noopener noreferrer nofollow" target=_blank>go see it here if you want to laugh</a>, but it taught me about how it&rsquo;s really hard to sync JavaScript events to playing audio. In the end I had an event listener the fired everytime there was an update to the timestamp on the playing audio (!) and depending on the range the timestamp fell in it triggered a CSS change to cause animations to change. You needed to use ranges because you weren&rsquo;t guaranteed to get the same timestamps each time the code ran!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>document</span>.addEventListener(<span style=color:#f1fa8c>&#39;DOMContentLoaded&#39;</span>, <span style=color:#8be9fd;font-style:italic>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>let</span> audio <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>document</span>.getElementsByTagName(<span style=color:#f1fa8c>&#39;audio&#39;</span>)[<span style=color:#bd93f9>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>let</span> curtain <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>document</span>.getElementById(<span style=color:#f1fa8c>&#39;curtain&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>let</span> dancers <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>document</span>.getElementsByClassName(<span style=color:#f1fa8c>&#39;can-can__image&#39;</span>);
</span></span><span style=display:flex><span>    audio.addEventListener(<span style=color:#f1fa8c>&#39;timeupdate&#39;</span>, <span style=color:#8be9fd;font-style:italic>function</span>(){
</span></span><span style=display:flex><span>        <span style=color:#6272a4>// console.log(audio.currentTime);
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>        <span style=color:#ff79c6>if</span>(audio.currentTime <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>9.5</span> <span style=color:#ff79c6>&amp;&amp;</span> audio.currentTime <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>11</span>){
</span></span><span style=display:flex><span>          curtain.classList.add(<span style=color:#f1fa8c>&#39;curtain--up&#39;</span>);
</span></span><span style=display:flex><span>          <span style=color:#ff79c6>for</span>(<span style=color:#8be9fd;font-style:italic>let</span> i<span style=color:#ff79c6>=</span><span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> dancers.length; i<span style=color:#ff79c6>++</span>){
</span></span><span style=display:flex><span>            dancers[i].classList.remove(<span style=color:#f1fa8c>&#39;hidden&#39;</span>);
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#6272a4>// 1
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>        <span style=color:#ff79c6>if</span>(audio.currentTime <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>20.5</span> <span style=color:#ff79c6>&amp;&amp;</span> audio.currentTime <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>21.0</span>){
</span></span><span style=display:flex><span>          swapToSpin(dancers);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>if</span>(audio.currentTime <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>22.0</span> <span style=color:#ff79c6>&amp;&amp;</span> audio.currentTime <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>22.5</span>){
</span></span><span style=display:flex><span>          swapToDance(dancers);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><h3 id=learning-about-the-browser-apis-dealing-with-promises-and-implementing-infinite-scroll-from-scratch>Learning about the browser APIs, dealing with Promises, and implementing infinite scroll from scratch</h3><p><a href=https://hugo-advent-calendar.herokuapp.com/days/14>Day 14 - Drawing App</a> : a simple drawing app using the Canvas API where you can save your drawing to a gallery</p><p><a href=https://hugo-advent-calendar.herokuapp.com/days/19 rel="noopener noreferrer nofollow" target=_blank>Day 19 -
Geolocation thingy</a> inspired by <a href=https://en.wikipedia.org/wiki/Overly_Attached_Girlfriend rel="noopener noreferrer nofollow" target=_blank>Overly-Attached Girlfriend</a>
: this is now broken as the MapBox API I used has had a breaking change since 2019 :( This page uses the Geolocation API to get the user, i.e. my boyfriend&rsquo;s, latitude and longitude and then passed those to the MapBox API to get the name of the place where my boyfriend was and then <a href=https://github.com/SarahFrench/AdventCalendar/blob/54d220641ea76cbc3567b69ed61f8720e02032c7/app/assets/javascripts/19-geolocation/geolocation.js#L36-L47 rel="noopener noreferrer nofollow" target=_blank>updates text on the page to be creepily specific</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span>(data.leftLondon <span style=color:#ff79c6>&amp;&amp;</span> <span style=color:#ff79c6>!</span>data.nearLooe){
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>&#34;You&#39;ve left London? Finally!&#34;</span>
</span></span><span style=display:flex><span>    } <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span> (data.nearLooe) {
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>&#34;You&#39;ve arrived!&#34;</span>
</span></span><span style=display:flex><span>    } <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span> (locationString <span style=color:#ff79c6>===</span> <span style=color:#f1fa8c>&#34;Kentish Town Road&#34;</span>){
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>&#34;You&#39;re home, good. I can keep an eye on you with the secret cameras.&#34;</span>;
</span></span><span style=display:flex><span>    } <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span> (locationString <span style=color:#ff79c6>===</span> <span style=color:#f1fa8c>&#34;Avondale Road&#34;</span>){
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>&#34;You&#39;re down in Croydon? I miss you but...&#34;</span>;
</span></span><span style=display:flex><span>    } <span style=color:#ff79c6>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>`What are you doing in </span><span style=color:#f1fa8c>${</span>locationString<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>? Without me?? :( `</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ...
</span></span></code></pre></div><p><a href=https://hugo-advent-calendar.herokuapp.com/days/19 rel="noopener noreferrer nofollow" target=_blank>Day 3</a> was an infinite number of Samoyeds, thanks to the free <a href=https://dog.ceo/dog-api/ rel="noopener noreferrer nofollow" target=_blank>Dog API</a></p><h3 id=day-5-taught-me-how-to-_not_-write-javascript>Day 5 taught me how to <em>not</em> write JavaScript</h3><p>Day 5 was a game inspired by Only Connect, a gameshow on BBC TV. It was the biggest bundle of JavaScript logic I&rsquo;d written and it&rsquo;s a monster. The experience taught me about how it&rsquo;s important to plan your code and recognise when you should pause new features and address tech debt!</p></article></main></div><footer class=footer><p class=footer__text>© 2022, Built with <a class=underline href=https://gohugo.io/ rel="noopener noreferrer nofollow" target=_blank>Hugo</a></p></footer></body></html>